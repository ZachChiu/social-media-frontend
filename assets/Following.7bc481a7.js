import{T as x}from"./Title.d1040b09.js";import{I as b,d as m,L as v,E as F}from"./EmptyCard.364d6113.js";import{_ as k,u as T,f as _,r as d,o as r,c as u,a as g,b as D,t as Y,p as L,g as E,q as I,x as M,F as w,h as y,m as C,H as P}from"./index.1480d001.js";import"./Avatar.a472d7d4.js";const B={components:{Info:b},props:{following:{type:Object,default(){return{}}}},setup(t){const n=T(),e=_(()=>m(t.following.createdAt).format("YYYY/MM/DD H:mm")),o=_(()=>{const l=m();return m(t.following.createdAt).diff(l,"day")}),a=_(()=>`\u8FFD\u8E64\u6642\u9593\uFF1A ${m(t.following.createdAt).format("YYYY/MM/DD H:mm")}`);return{followTime:e,hasFollowedTime:o,onClickPersonal:()=>{n.push({name:"personal-wall",params:{userId:t.following.user._id}})},subText:a}}},j={class:"card p-4 flex items-end justify-between"},A={class:"text-dark text-sm"};function H(t,n,e,o,a,p){var c,i,f,s;const l=d("Info");return r(),u("div",j,[g(l,{username:(i=(c=e.following)==null?void 0:c.user)==null?void 0:i.name,avatar:(s=(f=e.following)==null?void 0:f.user)==null?void 0:s.photo,"sub-text":o.subText,size:"45",onOnClickPersonal:o.onClickPersonal},null,8,["username","avatar","sub-text","onOnClickPersonal"]),D("p",A,"\u60A8\u5DF2\u8FFD\u8E64 "+Y(o.hasFollowedTime)+" \u5929\uFF01",1)])}var O=k(B,[["render",H]]);const $={components:{Title:x,FollowCard:O,LoadingCard:v,EmptyCard:F},setup(){const t=L(),n=E([]),e=I(!1),o=async()=>{try{e.value=!0;const a=await P.getFollowing();n.push(...a)}catch{t.error("\u8F09\u5165\u6309\u8B9A\u8FFD\u8E64\u8005\u5931\u6557\uFF0C\u8ACB\u91CD\u65B0\u6574\u7406")}finally{e.value=!1}};return M(()=>{o()}),{followings:n,isLoading:e}}};function N(t,n,e,o,a,p){const l=d("Title"),c=d("LoadingCard"),i=d("EmptyCard"),f=d("FollowCard");return r(),u(w,null,[g(l,{title:"\u8FFD\u8E64\u540D\u55AE"}),o.isLoading?(r(),u(w,{key:0},y(3,(s,h)=>g(c,{key:h,class:"mb-4 last:mb-0"})),64)):o.followings.length===0?(r(),C(i,{key:1,state:"\u7121\u4EFB\u4F55\u8FFD\u8E64\u8005"})):(r(!0),u(w,{key:2},y(o.followings,s=>(r(),C(f,{key:s._id,class:"mb-4 last:mb-0",following:s},null,8,["following"]))),128))],64)}var R=k($,[["render",N]]);export{R as default};
