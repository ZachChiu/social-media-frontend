import{P as h,L as k,E as w}from"./EmptyCard.f8ef6927.js";import{p as b}from"./posts.9616cb94.js";import{_ as P,j as C,k as g,r as L,l as S,m as E,a as u,o as a,c as n,b as l,n as y,v as K,F as c,e as v,p as B,q as I,i as f,t as T,d as V,s as M,x as D}from"./index.a4073ed6.js";import"./default-user.a0909803.js";const F={components:{PostCard:h,LoadingCard:k,EmptyCard:w},setup(){const s=C();let o=g("desc"),p=g(null),e=L([]),r=g(!1);const _=S([{text:"\u6700\u65B0\u8CBC\u6587",value:"desc"},{text:"\u6700\u820A\u8CBC\u6587",value:"asc"}]),d=async()=>{try{e.splice(0),r.value=!0;const i=await b.getPosts({timeSort:o.value,content:p.value});e.push(...i),r.value=!1}catch{s.error("\u8F09\u5165\u8CBC\u6587\u5931\u6557\uFF0C\u8ACB\u91CD\u65B0\u6574\u7406")}},m=()=>{s.info("\u529F\u80FD\u9084\u6C92\u505A\u597D\u5566")};return E(()=>{d()}),{posts:e,isLoading:r,sortOption:_,timeSort:o,searchKeyword:p,getPosts:d,toggleLike:m}}},N=s=>(M("data-v-b11dcc88"),s=s(),D(),s),O={class:"mb-4 flex"},U=["value"],W={class:"w-full flex shadow-md rounded-lg overflow-hidden"},j=N(()=>l("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),q=[j];function z(s,o,p,e,r,_){const d=u("LoadingCard"),m=u("EmptyCard"),i=u("PostCard");return a(),n(c,null,[l("div",O,[y(l("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>e.timeSort=t),name:"",id:"",class:"py-3 pl-4 pr-1 mr-3 outline-none shadow-md rounded-lg bg-white",onChange:o[1]||(o[1]=(...t)=>e.getPosts&&e.getPosts(...t))},[(a(!0),n(c,null,v(e.sortOption,t=>(a(),n("option",{key:t.value,value:t.value},T(t.text),9,U))),128))],544),[[K,e.timeSort]]),l("div",W,[y(l("input",{class:"bg-white w-full h-full py-3 px-4 outline-none flex-1",type:"text","onUpdate:modelValue":o[2]||(o[2]=t=>e.searchKeyword=t),placeholder:"\u641C\u5C0B\u8CBC\u6587",onKeyup:o[3]||(o[3]=I((...t)=>e.getPosts&&e.getPosts(...t),["enter"]))},null,544),[[B,e.searchKeyword]]),l("button",{class:"block text-white w-[46px] bg-primary hover:bg-secondary font-[20px] outline-none",onClick:o[4]||(o[4]=(...t)=>e.getPosts&&e.getPosts(...t))},q)])]),e.isLoading?(a(),n(c,{key:0},v(3,(t,x)=>V(d,{key:x,class:"mb-4 last:mb-0"})),64)):e.posts.length===0?(a(),f(m,{key:1})):(a(!0),n(c,{key:2},v(e.posts,t=>(a(),f(i,{key:t.id,post:t,class:"mb-4 last:mb-0",onToggleLike:e.toggleLike},null,8,["post","onToggleLike"]))),128))],64)}var Q=P(F,[["render",z],["__scopeId","data-v-b11dcc88"]]);export{Q as default};
