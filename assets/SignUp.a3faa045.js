import{_ as b,p as $,u as M,q as k,g as P,r as L,o as n,c as i,b as a,y as m,A as c,t as w,i as d,J as C,a as V,w as B,H as q,j as _}from"./index.1480d001.js";import{M as A}from"./meta-wall.b99404de.js";import{c as o,r as u,m as h,e as E,u as R}from"./index.esm.b881e757.js";const U={setup(){const f=$(),s=M();let l=k(!1);const e=P({name:"",email:"",password:"",confirmPassword:""}),x=r=>new RegExp("[A-Z]").test(r),v=r=>new RegExp("[a-z]").test(r),p=r=>e.password===r,t={name:{required:o.withMessage("\u8ACB\u8F38\u5165\u66B1\u7A31",u),minLength:o.withMessage("\u66B1\u7A31\u6700\u5C11\u9700\u8F38\u5165\u5169\u500B\u5B57\u5143",h(2)),$lazy:!0},email:{required:o.withMessage("\u8ACB\u8F38\u5165 Email",u),email:o.withMessage("Email \u683C\u5F0F\u932F\u8AA4",E),$lazy:!0},password:{required:o.withMessage("\u8ACB\u8F38\u5165\u5BC6\u78BC",u),minLength:o.withMessage("\u5BC6\u78BC\u6700\u5C11\u70BA 8 \u78BC",h(8)),uppercase:o.withMessage("\u6700\u5C11\u9808\u5305\u542B\u4E00\u500B\u5927\u5BEB",x),lowercase:o.withMessage("\u6700\u5C11\u9808\u5305\u542B\u4E00\u500B\u5C0F\u5BEB",v),$lazy:!0},confirmPassword:{required:o.withMessage("\u8ACB\u8F38\u5165\u5BC6\u78BC",u),sameAs:o.withMessage("\u5BC6\u78BC\u4E0D\u76F8\u7B26",p),$lazy:!0}},g=R(t,e);return{isLoading:l,MetaWallImg:A,form:e,v$:g,onClickLogin:async()=>{if(g.value.$touch(),!(g.value.$invalid||l.value))try{l.value=!0;const r={name:e.name,email:e.email,password:e.password,confirmPassword:e.confirmPassword};await q.signUp(r),f.success("\u8A3B\u518A\u6210\u529F"),s.push({name:"sign-in"})}catch(r){f.error(r.response.data.message||"\u8A3B\u518A\u5931\u6557")}finally{l.value=!1}}}}},z={class:"container flex items-center justify-center h-screen"},S={class:"card py-[30px] px-12 flex"},N=["src"],W={class:"text-center overflow-auto overflow-x-hidden"},j=a("h1",{class:"font-paytone text-primary text-5xl md:text-6xl"},"MetaWall",-1),D=a("h2",{class:"font-bold text-xl md:text-2xl"},"\u8A3B\u518A",-1),I={class:"mt-5"},T={class:"mb-8 relative"},H={key:0,class:"text-danger mt-2 text-xs text-left absolute"},J={class:"mb-8 relative"},O={key:0,class:"text-danger mt-2 text-xs text-left absolute"},Z={class:"mb-8 relative"},F={key:0,class:"text-danger mt-2 text-xs text-left absolute"},G={class:"mb-11 relative"},K={key:0,class:"text-danger mt-2 text-xs text-left absolute"},Q=["disabled"],X=_(" \u8A3B\u518A "),Y={key:0,class:"fa-solid fa-spinner text-white animate-spin-slow"},ee=_("\u767B\u5165");function se(f,s,l,e,x,v){const p=L("RouterLink");return n(),i("div",z,[a("div",S,[a("img",{src:e.MetaWallImg,alt:"",class:"hidden md:block md:w-[250px] lg:w-[360px] object-contain w-full mr-9"},null,8,N),a("div",W,[j,D,a("form",I,[a("div",T,[m(a("input",{type:"text",name:"name",id:"name",class:"py-3 px-5",placeholder:"\u66B1\u7A31","onUpdate:modelValue":s[0]||(s[0]=t=>e.form.name=t),onBlur:s[1]||(s[1]=t=>e.v$.name.$touch())},null,544),[[c,e.form.name]]),e.v$.name.$invalid?(n(),i("p",H,w(e.v$.name.$errors[0].$message),1)):d("",!0)]),a("div",J,[m(a("input",{type:"email",name:"email",id:"email",class:"py-3 px-5",placeholder:"EMAIL","onUpdate:modelValue":s[2]||(s[2]=t=>e.form.email=t),onBlur:s[3]||(s[3]=t=>e.v$.email.$touch())},null,544),[[c,e.form.email]]),e.v$.email.$invalid?(n(),i("p",O,w(e.v$.email.$errors[0].$message),1)):d("",!0)]),a("div",Z,[m(a("input",{type:"password",name:"password",id:"password",class:"bg-gray-light w-full py-3 px-5",placeholder:"PASSWORD","onUpdate:modelValue":s[4]||(s[4]=t=>e.form.password=t),onBlur:s[5]||(s[5]=t=>e.v$.password.$touch())},null,544),[[c,e.form.password]]),e.v$.password.$invalid?(n(),i("p",F,w(e.v$.password.$errors[0].$message),1)):d("",!0)]),a("div",G,[m(a("input",{type:"password",name:"confirmPassword",id:"confirmPassword",class:"bg-gray-light w-full py-3 px-5",placeholder:"ConfirmPassword","onUpdate:modelValue":s[6]||(s[6]=t=>e.form.confirmPassword=t),onBlur:s[7]||(s[7]=t=>e.v$.confirmPassword.$touch())},null,544),[[c,e.form.confirmPassword]]),e.v$.confirmPassword.$invalid?(n(),i("p",K,w(e.v$.confirmPassword.$errors[0].$message),1)):d("",!0)]),a("button",{class:"btn-primary mb-4",disabled:e.isLoading,onClick:s[8]||(s[8]=C((...t)=>e.onClickLogin&&e.onClickLogin(...t),["prevent"]))},[X,e.isLoading?(n(),i("i",Y)):d("",!0)],8,Q),V(p,{class:"link",to:"/sign-in"},{default:B(()=>[ee]),_:1})])])])])}var ne=b(U,[["render",se]]);export{ne as default};
